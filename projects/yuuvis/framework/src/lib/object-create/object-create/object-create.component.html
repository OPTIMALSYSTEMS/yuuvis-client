<yuv-stepper-panel #stepper [yuvBusyOverlay]="busy" [title]="'yuv.framework.object-create.header.title'|translate">

  <cdk-step editable="true" [label]="'yuv.framework.object-create.step.type'|translate"
    [completed]="!!selectedObjectType">

    <div class="step select">
      <h1>{{'yuv.framework.object-create.step.type'|translate}}</h1>

      <div class="select-container">

        <div class="select-list">
          <h2>{{'yuv.framework.object-create.step.type.document'|translate}}</h2>
          <div class="select-item" *ngFor="let t of availableDocumentTypes"
            (yuvFileDrop)="onFilesDroppedOnType($event, t.type)"
            [yuvFileDropDisabled]="t.type.contentStreamAllowed === 'notallowed'"
            [ngClass]="{selected: selectedObjectType?.id === t.type.id}" (click)="selectObjectType(t.type)">
            {{t.label}} <div>{{labels[t.type.contentStreamAllowed]}}</div>
          </div>
        </div>

        <div class="select-list">
          <h2>{{'yuv.framework.object-create.step.type.folder'|translate}}</h2>
          <div class="select-item" *ngFor="let t of availableFolderTypes"
            [ngClass]="{selected: selectedObjectType?.id === t.type.id}" (click)="selectObjectType(t.type)">
            {{t.label}}
          </div>
        </div>

      </div>

    </div>

  </cdk-step>
  <cdk-step editable="true" [label]="'yuv.framework.object-create.step.file'|translate" [completed]="completed.file">
    <div class="step select" *ngIf="selectedObjectType" (yuvFileDrop)="onFilesDroppedOnType($event)"
      [yuvFileDropDisabled]="selectedObjectType.contentStreamAllowed === 'notallowed'">
      <h1>{{'yuv.framework.object-create.step.file'|translate}}</h1>
      <div class="select-container files">


        <div class="files select-list">
          <div>
            <div class="file select-item" *ngFor="let file of files">{{file.name}}

              <yuv-icon [svg]="icon.clear" (click)="removeFile(file)"></yuv-icon>
            </div>
          </div>



          <!-- upload a file -->
          <div class="buttons">

            <button *ngIf="files.length"
              (click)="filesClear()">{{'yuv.framework.object-create.step.file.clear'|translate}}</button>

            <yuv-file-picker [label]="'yuv.framework.object-create.step.file.choose'|translate" [output]="'file'"
              [multiple]="true" (fileSelected)="fileChosen($event)"></yuv-file-picker>

            <button class="primary" (click)="fileSelectContinue()"
              [disabled]="selectedObjectType.contentStreamAllowed === 'required' && files.length === 0">{{'yuv.framework.object-create.step.file.continue'|translate}}</button>

          </div>


        </div>
      </div>
    </div>
  </cdk-step>

  <!-- indexdata -->
  <cdk-step editable="true" [label]="'yuv.framework.object-create.step.indexdata'|translate"
    [completed]="completed.indexdata">
    <div class="step">
      <h1>{{'yuv.framework.object-create.step.indexdata'|translate}}</h1>
      <yuv-object-form [formOptions]="selectedObjectTypeFormOptions" *ngIf="selectedObjectTypeFormOptions"
        (statusChanged)="onFormStatusChanged($event)">
      </yuv-object-form>
    </div>
  </cdk-step>

</yuv-stepper-panel>

<footer>

  <yuv-form-input class="checkbox" [label]="'yuv.framework.object-create.footer.another'|translate" [skipToggle]="true">
    <yuv-checkbox [(ngModel)]="createAnother"></yuv-checkbox>
  </yuv-form-input>



  <button class="primary" [disabled]="!done" (click)="create()"
    translate>yuv.framework.object-create.footer.create</button>
</footer>