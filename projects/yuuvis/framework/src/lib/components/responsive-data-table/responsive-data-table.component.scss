@import '../../../../../../../src/scss-shared/_mixins';

$icon-size: 18px !default;
$grid-tile-size: 177px;
$primary-color: var(--color-accent);
$range-selection-highlight-color: $primary-color;

::ng-deep {
  yuv-responsive-data-table {
    // versions data table
    &.versions {
      .rdt-row.row-grid.version {
        &::after {
          position: absolute;
          right: var(--app-pane-padding);
          top: var(--app-pane-padding);
          margin: 0;
        }
      }
      .rdt-row.version {
        &::after {
          content: attr(data-version);
          border-radius: 4px;
          background-color: var(--panel-divider-color);
          padding: 2px calc(var(--app-pane-padding) / 2);
          margin: 0 calc(var(--app-pane-padding) / 2);
        }
        .head {
          display: none;
        }
        .main {
          padding: 0 var(--app-pane-padding);
          flex: 1;
        }
      }
      .ag-row-selected .rdt-row.version {
        &::after {
          background-color: var(--color-accent);
          color: #fff;
        }
      }
    }

    &.grid,
    &.horizontal {
      .ag-theme-yuv .ag-row {
        padding: 0;
        .ag-cell {
          padding: 0;
          width: 100% !important;

          &.cell-title-description {
            > span {
              width: 100%;
            }
          }
        }

        .rdt-row {
          display: flex;
          line-height: 1.7em;
          overflow: hidden;

          .main {
            .title {
              font-weight: bold;
              @include ellipsis();
              display: block;
            }
            .description {
              opacity: 0.54;
              @include ellipsis();
              display: block;
            }
          }

          // title/description only row
          &.row-horizontal {
            flex-flow: row nowrap;
            align-items: center;
            .head {
              padding: 0 var(--app-pane-padding);
              flex: 0 0 auto;
            }
            .main {
              flex: 1;
            }
          }

          // grid tile
          &.row-grid {
            flex-flow: column;
            border: 1px solid var(--panel-divider-color);

            .head {
              flex: 1;
              display: flex;
              flex-flow: column;
              align-items: center;
              justify-content: center;
              background-color: var(--panel-background-lightgrey);
              border-bottom: 1px solid var(--panel-divider-color);

              svg {
                width: 70px;
                height: 70px;
                opacity: 0.1;
              }
            }
            .main {
              flex: 0 0 auto;
              padding: calc(var(--app-pane-padding) / 2);
            }
          }
        }

        &.ag-row-selected {
          .rdt-row {
            .main {
              .title,
              .description {
                opacity: 1;
              }
            }
          }
        }
      }
      .ag-theme-yuv .ag-header {
        border: 0;
        &.ag-pivot-off {
          display: none;
        }
      }
    }

    &.grid {
      .ag-theme-yuv {
        .ag-body-viewport {
          background-color: var(--panel-background-grey);
        }
        .ag-center-cols-container {
          @include flex-row();
          flex-wrap: wrap;
          padding: var(--app-pane-padding);
          align-content: flex-start;
        }
        .ag-row {
          border: 0;
          position: relative;
          overflow: hidden;
          width: $grid-tile-size;
          height: $grid-tile-size !important;
          transform: none !important;
          border-width: 1px !important;
          .rdt-row {
            flex: 1;
            background-color: var(--panel-background);
          }

          // &.ag-row-focus .ag-cell-focus,
          // &.ag-row-focus {
          // }
          &.ag-row-selected {
            background-color: transparent;
            .rdt-row {
              border-color: rgba(var(--color-accent-rgb), 0.5);
              .head {
                background-color: rgba(var(--color-accent-rgb), 0.5);
                border-color: transparent;
                color: #fff;
                svg {
                  opacity: 0.8;
                }
              }
              .main {
                .title,
                .description {
                  opacity: 1;
                }
              }
            }
          }
          .ag-cell {
            padding: calc(var(--app-pane-padding) / 2);
            > span {
              display: flex;
              width: 100%;
              height: 100%;
            }
          }
        }
        .ag-pinned-left-cols-container,
        .ag-pinned-right-cols-container,
        .ag-full-width-container,
        .ag-center-cols-container,
        .ag-center-cols-viewport,
        .ag-center-cols-clipper {
          height: 100% !important;
        }
        .ag-body-horizontal-scroll {
          display: none;
        }
      }
    }
    &.grid:not(.vertical) {
      .ag-theme-yuv {
        .ag-center-cols-clipper {
          display: table;
        }
        .ag-center-cols-container {
          width: 100% !important;
        }
      }
    }
    &.horizontal {
      .ag-theme-yuv {
        .ag-center-cols-container {
          width: 100% !important;
        }
      }
    }
    &.grid.vertical {
      .ag-theme-yuv {
        .ag-center-cols-container {
          flex-wrap: nowrap;
        }
      }
    }
  }
}

.data-table-resizable {
  overflow: hidden;
  height: 100%;
}

.yuv-responsive-data-table {
  @include frame(0);
  background-color: var(--panel-background);

  .table {
    grid-area: table;
  }
}
