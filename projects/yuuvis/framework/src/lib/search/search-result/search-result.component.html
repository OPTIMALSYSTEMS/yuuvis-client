<div class="content grid-container" [ngClass]="{ 'toolbar-open': toolbarOpen }">
  <div class="toolbar">
    <!-- <yuv-icon [svg]="icon.icSearchFilter"></yuv-icon> -->
    <div class="toggle">
      <yuv-icon [svg]="icon.icArrowNext" (click)="toolbarOpen = !toolbarOpen"></yuv-icon>
    </div>
    <div class="toolbar-content" *ngIf="toolbarOpen">
      <yuv-quick-search class="inline" [query]="query" (querySubmit)="onQuickSearchQuery($event)"> </yuv-quick-search>
    </div>
  </div>
  <div class="table" [yuvBusyOverlay]="busy">
    <ng-template #tplEmpty>
      <div class="empty" *ngIf="query" translate>yuv.framework.search-result.empty</div>
    </ng-template>

    <ng-container *ngIf="tableData?.rows.length; else tplEmpty">
      <yuv-responsive-data-table yuvOfflineDisabled #dataTable class="data-table" [data]="tableData" [breakpoint]="400"
        (optionsChanged)="optionsChanged.emit($event)" [options]="options"
        (selectionChanged)="onSelectionChanged($event)" (sortChanged)="onSortChanged($event)"
        (rowDoubleClicked)="rowDoubleClicked.emit($event)">
      </yuv-responsive-data-table>

      <div class="footer paging" yuvOfflineDisabled>
        <div class="status">
          {{ 'yuv.framework.search-result.footer.hits' | translate: { count: totalNumItems } }}
        </div>

        <div class="navigation">
          <button [disabled]="!tableData?.rows?.length" (click)="goTo('prev')">
            <yuv-icon class="prev" [svg]="icon.icArrowNext"></yuv-icon>
          </button>
          <button [disabled]="!tableData?.rows?.length" (click)="goTo('next')">
            <yuv-icon class="next" [svg]="icon.icArrowNext"></yuv-icon>
          </button>
        </div>

        <div class="mode">
          <button (click)="dataTable.viewMode = 'auto'" [ngClass]="{'active': dataTable.viewMode === 'auto'}">
            &#9777;
          </button>
          <button (click)="dataTable.viewMode = 'standard'" [ngClass]="{'active': dataTable.viewMode === 'standard'}">
            &#9776;
          </button>
          <button (click)="dataTable.viewMode = 'grid'" [ngClass]="{'active': dataTable.viewMode === 'grid'}">
            &#9783;
          </button>
          <button (click)="dataTable.viewMode = 'horizontal'"
            [ngClass]="{'active': dataTable.viewMode === 'horizontal'}">
            &#9868;
          </button>
          <button (click)="dataTable.viewMode = 'vertical'" [ngClass]="{'active': dataTable.viewMode === 'vertical'}">
            &#9867;
          </button>
        </div>

        <div class="controls" *ngIf="hasPages">
          <button [disabled]="pagination.page === 0" (click)="goToPage(1)">
            <yuv-icon class="first" [svg]="icon.icArrowLast"></yuv-icon>
          </button>
          <button [disabled]="pagination.page === 0" (click)="goToPage(pagination.page - 1)">
            <yuv-icon class="prev" [svg]="icon.icArrowNext"></yuv-icon>
          </button>

          <form (ngSubmit)="onPagingFormSubmit()" [formGroup]="pagingForm">
            <input type="text" formControlName="page" />
            <div>{{ pagination.pages }}</div>
          </form>

          <button [disabled]="pagination.page === pagination.pages" (click)="goToPage(pagination.page + 1)">
            <yuv-icon class="next" [svg]="icon.icArrowNext"></yuv-icon>
          </button>
          <button [disabled]="pagination.page === pagination.pages" (click)="goToPage(pagination.pages)">
            <yuv-icon class="last" [svg]="icon.icArrowLast"></yuv-icon>
          </button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
