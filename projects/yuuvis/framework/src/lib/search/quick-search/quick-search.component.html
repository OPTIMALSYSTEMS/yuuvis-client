<div class="count" *ngIf="resultCount !== null">{{resultCount}}</div>
<!-- <div class="count no-results" *ngIf="!searchHasResults && searchForm.get('term').value" (click)="executeSearch()"> -->
<div class="count no-results" *ngIf="resultCount === 0">
  <span class="label" translate>yuv.framework.quick-search.result.empty</span>
</div>

<div class="search-box" [ngClass]="{invalid: invalidTerm, extrasEnabled: formFields.length}">

  <form [formGroup]="searchForm">

    <div class="main">
      <!-- object type selector -->
      <!-- <p-multiSelect #typeSelector [filter]="false" [showToggleAll]="true" [options]="objectTypeSelect"
        [maxSelectedLabels]="1" (onPanelHide)="objectTypeSelectClosed()"
        [defaultLabel]="'yuv.framework.quick-search.type.all' | translate" [selectedItemsLabel]="objectTypeSelectLabel"
        formControlName="objectTypes">
      </p-multiSelect> -->



      <div class="input">
        <input #termEl autofocus="autofocus" [placeholder]="'yuv.framework.quick-search.term.placeholder'|translate"
          formControlName="term">
      </div>

      <!-- object type field selector -->
      <!-- <p-multiSelect #fieldSelector [filter]="false" *ngIf="objectTypeFieldSelect?.length" [showHeader]="false"
        [options]="objectTypeFieldSelect" [maxSelectedLabels]="1" [selectionLimit]="1" [defaultLabel]="'+'"
        [selectedItemsLabel]="'++'" formControlName="objectTypeFieldSelect">
      </p-multiSelect> -->



      <div class="popover">
        <yuv-value-picker [items]="availableObjectTypes" [multiselect]="true" (select)="onObjectTypesSelected($event)">
        </yuv-value-picker>
      </div>
      <div class="popover" *ngIf="availableObjectTypeFields?.length">
        <yuv-value-picker [items]="availableObjectTypeFields" (select)="onObjectTypeFieldSelected($event)">
        </yuv-value-picker>
      </div>





    </div>
  </form>

  <!-- form elements from object type fields -->
  <form class="extras" #extrasForm [formGroup]="searchFieldsForm" *ngIf="formFields.length">
    <ng-container *ngFor="let key of searchFieldsForm?.controls | keys">

      <div class="fe-chip">
        <yuv-object-form-element [element]="searchFieldsForm.controls[key]"></yuv-object-form-element>
        <button (click)="removeFieldEntry(key)">
          <yuv-icon [svg]="icClear"></yuv-icon>
        </button>
      </div>
      <button (click)="op">{{operator === 'AND' ? 'AND' : 'OR'}}</button>
    </ng-container>


  </form>
  <!-- </div> -->

  <div class="buttons">
    <button type="button" (click)="reset()">{{'yuv.framework.quick-search.reset'|translate}}</button>
    <button class="primary" (click)="executeSearch()">{{'yuv.framework.quick-search.submit'|translate}}</button>
  </div>

</div>